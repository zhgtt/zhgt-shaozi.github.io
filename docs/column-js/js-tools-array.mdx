---
title: JS å·¥å…·å‡½æ•° - Array ç¯‡
id: js-tools-array
sidebar_position: 3
toc_max_heading_level: 4
---

```mdx-code-block
import BrowserWindow from '@site/src/components/BrowserWindow'
```

> æœ¬ç« èŠ‚è®°å½• JavaScript å¯¹ **æ•°ç»„ / å¯¹è±¡** è¿›è¡Œå¤„ç†çš„ä¸€äº›å·¥å…·å‡½æ•°ï¼ŒåŒ…æ‹¬æ•°ç»„çš„å»é‡ï¼Œåˆ†ç»„ï¼Œè¿‡æ»¤ç­‰æ–¹æ³•

## å–å€¼ & ç»Ÿè®¡

### è·å–éšæœºä¸€é¡¹å…ƒç´ 

è·å–æ™®é€šæ•°ç»„ä¸­çš„éšæœºä¸€é¡¹å…ƒç´ :

```tsx title="ä»£ç å®ç°"
export const _randomArr = (arr: (string | number | boolean)[]) => {
  const len = arr.length;
  return arr[Math.floor(Math.random() * len)];
};
```

### è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ 

```js title="ä»£ç å®ç°"
export const _getLastEle = (arr: any[]) => {
  // 1ï¸âƒ£ é€šè¿‡ length è·å–
  return arr[arr.length - 1];

  // 2ï¸âƒ£ ä½¿ç”¨ Array.slice() æˆªå–æ•°ç»„å†è·å–
  return arr.slice(-1)[0];

  // 3ï¸âƒ£ ä½¿ç”¨ Array.reverse() å°†æ•°ç»„ç¿»è½¬å†è·å–
  return arr.reverse()[0];

  // 4ï¸âƒ£ ä½¿ç”¨ Array.pop()ï¼Œè¯¥æ–¹æ³•ä¼šåˆ é™¤æ•°ç»„æœ€åä¸€é¡¹ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼Œç”±äºä¼šæ”¹å˜åŸæ•°ç»„ï¼Œå› æ­¤éœ€è¦æµ…æ‹·è´ä¸€ä¸‹
  return [...arr].pop();

  // 5ï¸âƒ£ ä½¿ç”¨ Array.at() æ¥è·å–ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªä¸‹æ ‡ç´¢å¼•ï¼Œè¿”å›å…¶å¯¹åº”çš„å…ƒç´ 
  return arr.at(-1);
};
```

### ç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°

ç»Ÿè®¡ä¸€ä¸ªå…ƒç´ åœ¨æ™®é€šæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡é›†åˆ:

```tsx title="ä»£ç å®ç°"
export const _totalObj = (arr: (string | number)[]) => {
  return arr.reduce((pre, next) => {
    if (pre[next]) {
      pre[next]++;
    } else {
      pre[next] = 1;
    }
    return pre;
  }, {});
};
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const array = ['æ™®å´ä¿¡ ğŸ¤–', 'æ™®å´ä¿¡ ğŸ¤–', 'sunny ğŸŒ', 'æ™®å´ä¿¡ ğŸ¤–', 'sunny ğŸŒ', 'dino ğŸ¦–'];

  const [value, setValue] = useState({});

  return <ResultButton results={value} onClick={() => setValue(_totalObj(array))} />;
}
```

</BrowserWindow>

### è®¡ç®—æ•°ç»„ä¸­å…ƒç´ ä¹‹å’Œ

```jsx title="ä»£ç å®ç° - æ™®é€šæ•°ç»„çš„ æ±‚å’Œ"
export const _getSum = (arr: number[]) => {
  // 1ï¸âƒ£ é€šè¿‡ Array.reduce() å®ç°
  return arr.reduce((prev, cur) => prev + cur, 0);

  // 2ï¸âƒ£ é€šè¿‡ Array.forEach() éå†å®ç°
  let total = 0;
  arr.forEach((value) => {
    total += value;
  });
  return total;
};

// 3ï¸âƒ£ ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash ä¸­çš„ sum() æ–¹æ³•
import { sum } from 'lodash';

const total = sum(arr);
```

```jsx title="ä»£ç å®ç° - å¯¹è±¡æ•°ç»„çš„ æ±‚å’Œ"
export const _getSumBy = (arr: any[], prop: string) => {
  // 1ï¸âƒ£ é€šè¿‡ Array.reduce() å®ç°
  return arr.reduce((prev, cur) => prev + cur[prop], 0);

  // 2ï¸âƒ£ é€šè¿‡ eval() å‡½æ•°å®ç°ï¼ˆè®¡ç®— / å¤„ç† å­—ç¬¦ä¸²ï¼Œå¹¶å½“åšè„šæœ¬ä»£ç æ¥æ‰§è¡Œï¼‰
  const propItem = arr.map((item) => item[prop]);
  return eval(propItem.join('+'));
};

// 3ï¸âƒ£ ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash ä¸­çš„ sumBy() æ–¹æ³•
import { sumBy } from 'lodash';

const total = sumBy(arr, prop); // prop ä¸ºè¦è¿›è¡Œè®¡ç®—çš„ key å±æ€§
// or
const total = sumBy(arr, (item) => item[prop]);
```

## è¿‡æ»¤

### æ•°ç»„æ ¹æ®å¦ä¸€ä¸ªæ•°ç»„çš„å€¼è¿‡æ»¤

å¯¹è±¡æ•°ç»„æ ¹æ®å¦ä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼è¿›è¡ŒåŒ¹é…ï¼Œä¿ç•™æ²¡æœ‰åŒ¹é…åˆ°çš„æ•°æ®;

```jsx title="ä»£ç å®ç°"
export const _dataFilter = (arr: any[], codeList: string[]) => {
  return arr.filter((item) => !codeList.includes(item?.code));
};
```

### æ•°ç»„çš„å¤šæ¡ä»¶æŸ¥è¯¢ & ç­›é€‰

åœ¨ä¸€äº›æŸ¥è¯¢è¡¨æ ¼çš„åœºæ™¯ä¸­ï¼Œå¯èƒ½éœ€è¦å‰ç«¯æ¥å¤„ç†æŸ¥è¯¢é€»è¾‘ï¼Œå¹¶ä¸”æ¡ä»¶å¯èƒ½è¿˜ä¸æ­¢ä¸€ä¸ª;

```jsx title="ä»£ç å®ç°"
export const _productFilter = (data: any[], params = {}) => {
  // params è¡¨ç¤ºæŸ¥è¯¢çš„æ¡ä»¶å‚æ•°ï¼Œæœ‰ä¸€ä¸ªå¯¹è±¡ç»„æˆ
  const Keys = Object.keys(params); // å°†æŸ¥è¯¢çš„æ¡ä»¶å‚æ•°è½¬ä¸ºæ•°ç»„

  return data.filter((item) => Keys.every((key) => item[key] && item[key].includes(params[key]))); // é€šè¿‡ every æ¥æ ¡éªŒæ•°æ®ä¸­æ˜¯å¦æœ‰å…¶å¯¹åº”çš„æŸ¥è¯¢æ¡ä»¶
};
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const array = [
    { name: 'Dino', city: 'æ­¦æ±‰' },
    { name: 'Duo', city: 'æ­å·' },
    { name: 'Anna', city: 'æ­å·' },
  ];

  const [value, setValue] = useState({});

  return (
    <ResultButton
      results={value}
      onClick={() => setValue(_productFilter(array, { name: 'Duo', city: 'æ­å·' }))}
    />
  );
}
```

</BrowserWindow>

## å»é‡

### æ™®é€šæ•°ç»„çš„å»é‡

```jsx title="ä»£ç å®ç° - å£¹ ğŸ¸"
// ä½¿ç”¨ new Set() + è§£æ„ çš„æ–¹å¼è¿›è¡Œå»é‡
export const _unique = (arr: any[]) => {
  return [...new Set(arr)];
  // or
  return Array.from(new Set(arr));
};
```

```jsx title="ä»£ç å®ç° - è´° ğŸ¸"
// ä½¿ç”¨ new Map() + Array.filter çš„æ–¹æ³•ï¼Œåˆ©ç”¨ Map() çš„é”®å€¼å¯¹å…·æœ‰å”¯ä¸€æ€§çš„ç‰¹ç‚¹è¿›è¡Œå»é‡
export const _unique = (arr: any[]) => {
  const map = new Map();
  return arr.filter((item) => !map.has(item) && map.set(item, true));
};
```

```jsx title="ä»£ç å®ç° - å"
// ä½¿ç”¨ Array.includes æˆ– Array.indexof çš„æ–¹å¼è¿›è¡Œå»é‡
export const _unique = (arr: any[]) => {
  const newArray = [];
  arr.forEach((item) => {
    if (!newArray.includes(item)) newArray.push(item);
    // or
    if (newArray.indexOf(item) === -1) newArray.push(item); // ğŸ“¢ è¯¥æ–¹æ³•å¯¹å»é‡ NaN æ— æ•ˆï¼Œå› ä¸º [NaN].indexOf(NaN) === -1
  });
  return newArray;
};
```

```jsx title="ä»£ç å®ç° - è‚†"
// ä½¿ç”¨ Array.filter + Array.indexOf çš„æ–¹å¼è¿›è¡Œå»é‡ï¼ŒåŸç†ä¸º indexOf è¿”å›çš„ç»“æœæ˜¯è¯¥å…ƒç´ (ç¬¬ä¸€ä¸ª)åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•
export const _unique = (arr: any[]) => {
  return arr.filter((item, index) => arr.indexOf(item) === index); // ğŸ“¢ è¯¥æ–¹æ³•ä¼šå°†æ‰€æœ‰çš„ NaN éƒ½è¿‡æ»¤æ‰
};
```

```jsx title="ä»£ç å®ç° - ä¼"
// ä½¿ç”¨ Array.filter + Object.hasOwnProperty çš„æ–¹å¼è¿›è¡Œå»é‡ï¼ŒåŸç†ä¸ºå¯¹è±¡çš„é”®å€¼å¯¹ä¸å¯é‡å¤
export const _unique = (arr: any[]) => {
  // ğŸ“¢ Object.hasOwnProperty() æ–¹æ³•è¿”å›ä¸€ä¸ª booleanï¼Œç”¨æ¥æŸ¥æ‰¾è¯¥å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸæŒ‡å®šå±æ€§
  const map = {};
  return arr.filter((item) =>
    map.hasOwnProperty(typeof item + item) ? false : (map[typeof item + item] = true)
  );
};
```

```jsx title="ä»£ç å®ç° - é™† ğŸ¸"
// ä½¿ç”¨ Array.reduce + Array.includes çš„æ–¹å¼è¿›è¡Œå»é‡
export const _unique = (arr: any[]) => {
  return arr.reduce((prev, cur) => {
    return prev.includes(cur) ? prev : prev.concat(cur); // concat æ‹¼æ¥
    // or
    return prev.includes(cur) ? prev : [...prev, cur]; // è§£æ„ æ‹¼æ¥
  }, []);
};
```

```jsx title="ä»£ç å®ç° - æŸ’"
// ä½¿ç”¨ Array.sort æ’åºçš„æ–¹æ³•ï¼ŒåŸç†æ˜¯å°†æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ æ’åˆ—åœ¨ä¸€èµ·ï¼Œå†è¿›è¡Œå»é‡
export const _unique = (arr: any[]) => {
  const newArray = [];
  arr.sort().forEach((item) => {
    if (item !== newArray[newArray.length - 1]) newArray.push(item); // ğŸ“¢ è¯¥æ–¹æ³•å¯¹å»é‡ NaN æ— æ•ˆï¼Œå› ä¸º NaN !== NaN
  });
  return newArray;
};
```

```jsx title="ä»£ç å®ç° - æŒ"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash ä¸­çš„ uniq() æ–¹æ³•
import { uniq } from 'lodash';

const total = uniq(arr);
```

### å¯¹è±¡æ•°ç»„çš„å»é‡

```jsx title="ä»£ç å®ç° - å£¹"
// æ ¹æ®æŸå­—æ®µ(prop)ï¼Œä½¿ç”¨ æ™®é€šå¾ªç¯ çš„æ–¹å¼å»é‡
export const _uniqueObj = (arr: any[], prop: string) => {
  const obj = {};
  const result = [];
  arr.forEach((item) => {
    if (!obj[item[prop]]) {
      result.push(item);
      obj[item[prop]] = true;
    }
  });
  return result;
};
```

```jsx title="ä»£ç å®ç° - è´° ğŸ¸"
// æ ¹æ®æŸå­—æ®µ(prop)ï¼Œä½¿ç”¨ Array.reduce çš„æ–¹å¼å»é‡
export const _uniqueObj = (arr: any[], prop: string) => {
  const obj = {};
  return arr.reduce((prev, cur) => {
    obj[cur[prop]] ? '' : (obj[cur[prop]] = true && prev.push(cur));
    return prev;
  }, []);
};
```

```jsx title="ä»£ç å®ç° - å"
// æ ¹æ®æŸå­—æ®µ(prop)ï¼Œä½¿ç”¨ Array.filter + Array.findIndex çš„æ–¹å¼å»é‡
export const _uniqueObj = (arr: any[], prop: string) => {
  return arr.filter((item, index, self) => {
    return self.findIndex((el) => el[prop] === item[prop]) === index;
  });
};
```

```jsx title="ä»£ç å®ç° - è‚† ğŸ¸"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash ä¸­çš„ uniqBy() æ–¹æ³•
import { uniqBy } from 'lodash';

const total = uniqBy(arr, prop); // prop ä¸ºæŒ‡å®šçš„å¯¹è±¡çš„ key å±æ€§
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const array = [
    { area_id: '25', area_name: 'æ­¦æ±‰' },
    { area_id: '30', area_name: 'é•¿æ²™' },
    { area_id: '36', area_name: 'å—äº¬' },
    { area_id: '30', area_name: 'é•¿æ²™' },
    { area_id: '25', area_name: 'æ­¦æ±‰' },
  ];

  const [value, setValue] = useState();

  return <ResultButton results={value} onClick={() => setValue(_uniqueObj(array, 'area_id'))} />;
}
```

</BrowserWindow>

## åˆ†ç»„

### æ•°æ®çš„åˆ†ç»„(ä¸€å¯¹å¤š)

æ ¹æ®æ•°æ®ä¸­çš„æŸå­—æ®µï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œ**å¤šæ¡æ•°æ®åªå¯¹åº”ä¸€ä¸ªåˆ†ç»„**ï¼Œè¿”å›ä¸€ä¸ª **å¯¹è±¡ / å¯¹è±¡æ•°ç»„**;

```jsx title="ä»£ç å®ç° - å£¹: è¿”å›ä¸€ä¸ªå¯¹è±¡"
// æ ¹æ®æŒ‡å®šå­—æ®µï¼Œä½¿ç”¨ æ™®é€šå¾ªç¯ çš„æ–¹å¼åˆ†ç»„ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡
export const _groupByObj = (arr: any[], prop: string) => {
  const groups = {};
  arr.forEach((item) => {
    const value = item[prop];
    groups[value] = groups[value] || [];
    groups[value].push(item);
  });
  return groups;
};
```

```jsx title="ä»£ç å®ç° - è´°: è¿”å›ä¸€ä¸ªå¯¹è±¡ ğŸ¸"
// æ ¹æ®æŒ‡å®šå­—æ®µï¼Œä½¿ç”¨ Array.reduce çš„æ–¹å¼åˆ†ç»„ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡
export const _groupByObj = (arr: any[], prop: string) => {
  return arr.reduce((prev, cur) => {
    (prev[cur[prop]] = prev[cur[prop]] || []).push(cur);
    return prev;
  }, {});
};
```

```jsx title="ä»£ç å®ç° - å: è¿”å›ä¸€ä¸ªå¯¹è±¡ ğŸ¸"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash ä¸­çš„ groupBy() æ–¹æ³•
import { groupBy } from 'lodash';

const total = groupBy(arr, prop); // prop ä¸ºæŒ‡å®šçš„å¯¹è±¡çš„ key å±æ€§
```

```jsx title="ä»£ç å®ç° - è‚†: è¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ ğŸ¸"
export const _groupByArray = (arr: any[]) => {
  const dest = [];
  const groups = {};
  arr.forEach((item) => {
    const { groupName, groupCode } = item;
    if (!groups[groupCode]) {
      groups[groupCode] = { groupName, groupCode, children: [] };
      dest.push(groups[groupCode]);
    }
    groups[groupCode].children.push(item);
  });
  return dest;
};
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const array = [
    { code: 'WeChat', name: 'å¾®ä¿¡', groupName: 'ç¤¾äº¤', groupCode: 'chat' },
    { code: 'dingding', name: 'é’‰é’‰', groupName: 'ç¤¾äº¤', groupCode: 'chat' },
    { code: 'majiang', name: 'æ¬¢ä¹éº»å°†', groupName: 'æ¸¸æˆ', groupCode: 'game' },
    { code: 'lolm', name: 'è‹±é›„è”ç›Ÿæ‰‹æ¸¸', groupName: 'æ¸¸æˆ', groupCode: 'game' },
    { code: 'qq', name: 'QQ ğŸ§', groupName: 'ç¤¾äº¤', groupCode: 'chat' },
    { code: 'taobao', name: 'æ·˜å®', groupName: 'è´­ç‰©', groupCode: 'shop' },
    { code: 'jingdong', name: 'äº¬ä¸œ', groupName: 'è´­ç‰©', groupCode: 'shop' },
  ];

  const [value, setValue] = useState();

  return (
    <ResultButton
      results={value}
      buttonGroup={[
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡)', onClick: () => setValue(_groupByObj(array, 'groupName')) },
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡æ•°ç»„)', onClick: () => setValue(_groupByArray(array)) },
      ]}
    />
  );
}
```

</BrowserWindow>

### æ•°æ®çš„åˆ†ç»„(å¤šå¯¹å¤š)

æ ¹æ®æ•°æ®ä¸­çš„æŸå­—æ®µï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œ**ä¸€æ¡æ•°æ®å¯å¯¹åº”å¤šä¸ªä¸åŒçš„åˆ†ç»„**ï¼Œè¿”å›ä¸€ä¸ª **å¯¹è±¡ / å¯¹è±¡æ•°ç»„**ï¼Œå®è´¨ä¸Šå°±æ˜¯åœ¨ ä¸€å¯¹å¤šåˆ†ç»„ çš„æ–¹æ³•ä¸­å†å¤šå¾ªç¯ä¸€å±‚;

```jsx title="ä»£ç å®ç° - å£¹: è¿”å›ä¸€ä¸ªå¯¹è±¡"
export const _groupByManyObj = (arr: any[]) => {
  return arr.reduce((prev, item) => {
    item['groupList'].forEach((each) => {
      (prev[each[prop]] = prev[each[prop]] || []).push(item);
    });
    return prev;
  }, {});
};
```

```jsx title="ä»£ç å®ç° - è´°: è¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„"
export const _groupByManyArray = (arr: any[]) => {
  const dest = [];
  const groups = {};
  arr.forEach((item) => {
    item['groupList'].forEach(({ groupName, groupCode }) => {
      if (!groups[groupCode]) {
        groups[groupCode] = { groupName, groupCode, children: [] };
        dest.push(groups[groupCode]);
      }
      groups[groupCode].children.push(item);
    });
  });
  return dest;
};
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const array = [
    {
      code: 'WeChat',
      name: 'å¾®ä¿¡',
      groupList: [
        { groupName: 'ç¤¾äº¤', groupCode: 'chat' },
        { groupName: 'çƒ­é—¨è½¯ä»¶', groupCode: 'hot' },
        { groupName: 'ç²¾é€‰è½¯ä»¶', groupCode: 'selected' },
      ],
    },
    {
      code: 'dingding',
      name: 'é’‰é’‰',
      groupList: [
        { groupName: 'ç¤¾äº¤', groupCode: 'chat' },
        { groupName: 'çƒ­é—¨è½¯ä»¶', groupCode: 'hot' },
      ],
    },
    {
      code: 'taobao',
      name: 'æ·˜å®',
      groupList: [
        { groupName: 'è´­ç‰©', groupCode: 'shop' },
        { groupName: 'çƒ­é—¨è½¯ä»¶', groupCode: 'hot' },
      ],
    },
    {
      code: 'jingdong',
      name: 'äº¬ä¸œ',
      groupList: [
        { groupName: 'è´­ç‰©', groupCode: 'shop' },
        { groupName: 'çƒ­é—¨è½¯ä»¶', groupCode: 'hot' },
        { groupName: 'ç²¾é€‰è½¯ä»¶', groupCode: 'selected' },
      ],
    },
  ];

  const [value, setValue] = useState();

  return (
    <ResultButton
      results={value}
      buttonGroup={[
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡)', onClick: () => setValue(_groupByManyObj(array, 'groupName')) },
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡æ•°ç»„)', onClick: () => setValue(_groupByManyArray(array)) },
      ]}
    />
  );
}
```

</BrowserWindow>

## è½¬æ¢

### å¯¹è±¡æ•°ç»„ â†’ å¯¹è±¡

```js title="ä»£ç å®ç°"
export const _arrToObject = (arr: any[]) => {
  // return arr.reduce((prev, cur, index) => {
  //   prev[index] = cur;
  //   return prev;
  // }, {});
  // æˆ– ç®€å†™ä¸º
  return arr.reduce((prev, cur, index) => ((prev[index] = cur), prev), {});
};

// è°ƒç”¨
const array = [
  { id: 1, name: 'Dino' },
  { id: 2, name: 'è„¸è„¸' },
];
_arrToObject(array); // { 0: { id: 1, name: 'Dino' }, 1: { id: 2, name: 'è„¸è„¸' } }
```

## æ‹·è´

:::caution ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ‹·è´ï¼Ÿ

- **åŸå§‹(åŸºç¡€)æ•°æ®ç±»å‹** å­˜å‚¨åœ¨ `æ ˆ(ç³»ç»Ÿè‡ªåŠ¨åˆ†é…)` ä¸­ï¼Œå­˜å‚¨çš„æ˜¯ `å€¼`;
- **å¼•ç”¨(å¤æ‚)æ•°æ®ç±»å‹** å­˜å‚¨åœ¨ `å †(äººä¸ºç”³è¯·å¼€è¾Ÿ)` ä¸­ï¼Œ`æ ˆ` ä¸­å­˜å‚¨çš„æ˜¯ **åœ°å€**ï¼Œæ˜¯æŒ‡å‘ `å †` çš„å¼•ç”¨åœ°å€ï¼›`å †` ä¸­å­˜å‚¨çš„æ˜¯ **è¯¥æ•°æ®çš„å±æ€§æˆ–å€¼**;
- ç”±äº JavaScript **ä¸å…è®¸ç›´æ¥è®¿é—®** å­˜å‚¨åœ¨ `å †` å†…å­˜ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨è®¿é—®æ—¶ï¼Œå®é™…ä¸Šè®¿é—®çš„æ˜¯ `æ ˆ` ä¸­çš„å¼•ç”¨åœ°å€ï¼Œæ ¹æ®è¿™ä¸ªåœ°å€è·å–æˆ–ä¿®æ”¹ `å †` ä¸­çš„å€¼;
- ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªå¸¸è§çš„é—®é¢˜: å½“ **å¤åˆ¶** ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„æ•°æ®æ—¶ï¼Œåªè¦è¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šå½±å“åˆ°åŸæœ‰çš„æ•°æ®ï¼Œå› æ­¤ä¼šæœ‰ **æµ…æ‹·è´** å’Œ **æ·±æ‹·è´** çš„æ¦‚å¿µ;

:::

### æ™®é€šæ•°æ®çš„æµ…æ‹·è´

- æ•°æ®è¿›è¡Œæµ…æ‹·è´æ—¶ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹å®ƒçš„å¼•ç”¨åœ°å€æ¥å®ç°ï¼Œä½†æ˜¯åªèƒ½æ›´æ”¹ **ç¬¬ä¸€å±‚** æ•°æ®(ä¸€ç»´æ•°æ®)ï¼Œå¤æ‚çš„æˆ–è€…æœ‰å±‚çº§åµŒå¥—çš„æ•°æ®æ˜¯æ— æ³•æ‹·è´åˆ°çš„;
- è¯¥æ‹·è´é€šè¿‡ JavaScript ä¸€äº›è‡ªå¸¦çš„æ–¹æ³•å³å¯å®ç°;

```jsx title="ä»£ç å®ç° - å¯¹è±¡çš„æµ…æ‹·è´"
export const _cloneByObj = (obj: { [key: string]: any }) => {
  // 1ï¸âƒ£ é€šè¿‡ Object.assign() å®ç°
  return Object.assign({}, obj);

  // 2ï¸âƒ£ é€šè¿‡ æ‹“å±•è¿ç®—ç¬¦ å®ç°
  return { ...obj };

  // 3ï¸âƒ£ é€šè¿‡ for...in å¾ªç¯å®ç°
  const newObj = {};
  for (const key in obj) {
    newObj[key] = obj[key];
  }
  return newObj;
};
```

```jsx title="ä»£ç å®ç° - æ•°ç»„çš„æµ…æ‹·è´"
export const _cloneByArray = (arr: any[]) => {
  // 1ï¸âƒ£ é€šè¿‡ Array.slice() å®ç°
  return arr.slice();

  // 2ï¸âƒ£ é€šè¿‡ Array.concat() å®ç°
  return arr.concat();

  // 3ï¸âƒ£ é€šè¿‡ Array.from() å®ç°
  return Array.from(arr);

  // 4ï¸âƒ£ é€šè¿‡ æ‹“å±•è¿ç®—ç¬¦ å®ç°
  return [...arr];
};
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const arr = [25, { name: 'dino' }];
  const newArr = _cloneByArray(arr); // æ‹·è´
  newArr.push('ğŸ˜¡');
  newArr[1].name = 'å‹ºå­ ğŸ¶'; // ä¼šå½±å“åŸæ•°æ®

  const obj = { name: 'dino', age: 25, hometown: { city: 'åŒ…å¤´' } };
  const newObj = _cloneByObj(obj); // æ‹·è´
  newObj.name = 'å‹ºå­ ğŸ¶';
  newObj.hometown.city = 'æ­å·'; // ä¼šå½±å“åŸæ•°æ®

  const [value, setValue] = useState();

  return (
    <ResultButton
      results={value}
      buttonGroup={[
        { text: 'æ˜¾ç¤ºç»“æœ(æ•°ç»„çš„æµ…æ‹·è´)', onClick: () => setValue({ arr, newArr }) },
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡çš„æµ…æ‹·è´)', onClick: () => setValue({ obj, newObj }) },
      ]}
    />
  );
}
```

</BrowserWindow>

### å¤æ‚æ•°æ®çš„æ·±æ‹·è´

æ•°æ®çš„æ·±æ‹·è´ç®€å•æ¥è¯´å°±æ˜¯å°†ä¸€ä¸ª **å¼•ç”¨ç±»å‹** çš„æ•°æ®ä»å†…å­˜ä¸­å®Œæ•´çš„æ‹·è´ä¸€ä»½å‡ºæ¥ï¼Œä» `å †` å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ”¾è¯¥å¯¹è±¡ï¼Œä¸”ä¿®æ”¹æ–°æ•°æ®ä¸ä¼šå½±å“åˆ°åŸæ•°æ®;

```jsx title="ä»£ç å®ç° - å£¹ ğŸ¸"
// ä½¿ç”¨ JSON è‡ªå¸¦çš„ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œæ·±æ‹·è´;
// ğŸ“¢ ç¼ºç‚¹ï¼šè™½ç„¶å¯ä»¥åº”å¯¹å¤§éƒ¨åˆ†çš„æ•°æ®åœºæ™¯ï¼Œä½†æ˜¯å¯¹äºæ‹·è´å‡½æ•°ï¼Œå¾ªç¯å¼•ç”¨ç­‰ä¸èµ·ä½œç”¨
export const _deepClone = (data: any) => {
  return JSON.parse(JSON.stringify(data));
};
```

```jsx title="ä»£ç å®ç° - è´°"
// ä½¿ç”¨ é€’å½’ çš„æ–¹å¼è¿›è¡Œæ·±æ‹·è´ï¼Œä¸”éœ€é¿å…å¾ªç¯å¼•ç”¨çš„é—®é¢˜
// ğŸ‹ åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸º åŸå§‹æ•°æ®ç±»å‹
const isObject = (target) => {
  const type = typeof target;
  return target !== null && (type === 'object' || type === 'function');
};

// ğŸ‹ è·å–æ•°æ®çš„ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º '[object Type]'
const getType = (target): string => {
  return Object.prototype.toString.call(target);
};

// ğŸ‹ åˆå§‹åŒ–è¢«å…‹éš†çš„å¯¹è±¡ï¼Œä¿æŒç»§æ‰¿é“¾
const getInit = (target) => {
  return new target.constructor();
};

// ğŸ‹ ä½¿ç”¨ while å°è£…ä¸€ä¸ª forEach å‡½æ•°ï¼Œä¼˜åŒ–å¾ªç¯çš„æ€§èƒ½ï¼Œå…¶ä¸­ iteratee æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥æ”¶æ¯æ¬¡éå†çš„ value å’Œ index ä¸ºå‚æ•°ï¼ˆå¯ä½¿ç”¨ for...in å¾ªç¯ä»£æ›¿ï¼‰
const forEach = (array: any[], iteratee: (v: any, i: number) => void) => {
  let index = -1;
  const length = array.length;
  while (++index < length) {
    iteratee(array[index], index);
  }
  return array;
};

// å°è£…å…‹éš†å‡½æ•°
export const _deepClone = (target: any, map = new WeakMap()) => {
  // å¤„ç† nullï¼ŒåŸå§‹æ•°æ®ï¼ŒDateï¼ŒRegexp ç±»å‹
  if (target === null) return null;
  if (!isObject(target)) return target;
  if (getType(target) === '[object Date]') return new Date(target);
  if (getType(target) === '[object Regexp]') return new RegExp(target);

  // åˆå§‹åŒ–è¢«å…‹éš†çš„å¯¹è±¡
  const cloneTarget = getInit(target);

  // å¤„ç†å¾ªç¯å¼•ç”¨
  if (map.get(target)) return map.get(target);
  map.set(target, cloneTarget);

  // å¤„ç†æ•°ç»„å’Œå¯¹è±¡çš„æ•°æ® - ä½¿ç”¨ for...in å¾ªç¯
  for (const key in target) {
    // target ä¸ºæ•°ç»„æ—¶ï¼Œkey ä¸ºæ•°ç»„çš„ç´¢å¼•å€¼
    if (Object.prototype.hasOwnProperty.call(target, key)) {
      cloneTarget[key] = _deepClone(target[key], map);
    }
  }
  // æˆ–ï¼šå¤„ç†æ•°ç»„å’Œå¯¹è±¡çš„æ•°æ® - ä½¿ç”¨ å°è£…å¥½çš„ forEach å‡½æ•°
  const keys = getType(target) === '[object Object]' ? Object.keys(target) : undefined;
  forEach(keys || target, (value, key) => {
    if (keys) key = value; // å¦‚æœæ˜¯å¯¹è±¡ï¼Œå°†å¯¹è±¡çš„ å±æ€§ èµ‹ç»™ ç´¢å¼•å€¼
    cloneTarget[key] = _deepClone(target[key], map);
  });

  return cloneTarget;
};
```

```jsx title="ä»£ç å®ç° - å ğŸ¸"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash çš„ cloneDeep() å‡½æ•°;
import { cloneDeep } from 'lodash';

const cloneTarget = cloneDeep(target);
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const arr = ['åŸºç¡€æ•°æ®ç±»å‹', { name: 'dino' }];
  const newArr = _deepClone(arr); // æ·±æ‹·è´
  newArr[1].name = 'å‹ºå­ ğŸ¶';

  const obj = { name: 'dino', havebeen: [{ city: 'æ­¦æ±‰' }, { city: 'æ­å·' }], date: new Date() };
  const newObj = _deepClone(obj); // æ·±æ‹·è´
  newObj.havebeen.push({ city: 'é»„å†ˆ' }); // ä¿®æ”¹å…‹éš†åçš„æ•°æ®ï¼Œä¸ä¼šå½±å“åˆ°åŸæ•°æ®
  newObj.date = '2022-03-09';

  const [value, setValue] = useState();

  return (
    <ResultButton
      results={value}
      buttonGroup={[
        { text: 'æ˜¾ç¤ºç»“æœ(æ•°ç»„çš„æ·±æ‹·è´)', onClick: () => setValue({ arr, newArr }) },
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡çš„æ·±æ‹·è´)', onClick: () => setValue({ obj, newObj }) },
      ]}
    />
  );
}
```

</BrowserWindow>

:::tip å‚è€ƒèµ„æ–™

- ğŸ‘‰ [å¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´? - æ˜é‡‘](https://juejin.cn/post/6844903929705136141)

:::

## æ¯”è¾ƒ

### æ¯”è¾ƒä¸¤ç»„æ•°æ®æ˜¯å¦å…¨ç­‰

- å½“ä¸¤ç»„ç›¸åŒçš„ **å¼•ç”¨ç±»å‹** æ•°æ®è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œç”±äºå®ƒä»¬çš„æ•°æ®å­˜å‚¨åœ¨ `å †` ä¸­ï¼Œ`æ ˆ` ä¸­å­˜å‚¨çš„æ˜¯åœ°å€ï¼Œå³ä¾¿æ•°æ®å†…å®¹ç›¸åŒï¼Œä½†æ˜¯äºŒè€…çš„åœ°å€éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥äºŒè€…ç›¸æ¯”è¾ƒç»“æœæ€»æ˜¯ **ä¸ç­‰** çš„;
- å¯ä»¥ä½¿ç”¨ **é€’å½’** çš„æ–¹å¼å¯¹ä¸¤ä¸ªå¼•ç”¨ç±»å‹çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒ;

```jsx title="ä»£ç å®ç° - å£¹"
// ä½¿ç”¨ JSON.stringify() å°†æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œç®€å•ç²—æš´;
// ğŸ“¢ ç¼ºç‚¹ï¼šå…·æœ‰é™åˆ¶æ€§ï¼Œå½“æ¯”è¾ƒä¸¤ä¸ª key é¡ºåºä¸åŒï¼Œvalue ç›¸åŒçš„å¯¹è±¡æ—¶ï¼Œå°±ä¼šæ— æ•ˆ
export const _equals = (origin: any, target: any): boolean => {
  return JSON.stringify(origin) === JSON.stringify(target);
};
```

```jsx title="ä»£ç å®ç° - è´°"
// ä½¿ç”¨ é€’å½’ çš„æ–¹å¼è¿›è¡Œæ·±åº¦æ¯”è¾ƒ
// ğŸ‹ è·å–æ•°æ®çš„ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º '[object Type]'
const getType = (target): string => {
  return Object.prototype.toString.call(target);
};

// å°è£…å‡½æ•°
export const _equals = (origin: any, target: any): boolean => {
  // å¤„ç†åŸå§‹æ•°æ®ç±»å‹ï¼Œç›¸åŒæ—¶ç›´æ¥è¿”å› true
  if (origin === target) return true;

  // å¤„ç† NaN çš„æƒ…å†µï¼Œåˆ©ç”¨ NaN !== NaN è¿›è¡Œåˆ¤æ–­
  if (origin !== origin) return target !== target;

  // å¤„ç† Dateï¼Œ RegExp ç±»å‹
  if (getType(origin) !== getType(target)) return false;
  switch (getType(origin)) {
    case '[object Date]':
      return +origin === +target;
    case '[object RegExp]':
      return '' + origin === '' + target;
  }

  // å½“é€’å½’ä¹‹åçš„ origin å’Œ target ä¸æ˜¯ object ç±»å‹ï¼Œä¸”å€¼ä¸ç›¸åŒæ—¶ï¼Œä¼šèµ°åˆ°è¯¥é€»è¾‘ä¸­ï¼›é˜²æ­¢å¯¹è±¡é™·å…¥æ­»å¾ªç¯
  if (!origin || !target || (typeof origin !== 'object' && typeof target !== 'object'))
    return origin === target;

  // å¤„ç† æ•°ç»„ å’Œ å¯¹è±¡
  const keys = Object.keys(origin);
  if (keys.length !== Object.keys(target).length) return false;
  return keys.every((item) => _equals(origin[item], target[item])); // ä½¿ç”¨ Array.every æ–¹æ³•
};
```

```jsx title="ä»£ç å®ç° - å ğŸ¸"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash çš„ isEqual() å‡½æ•°;
import { isEqual } from 'lodash';

const flag = isEqual(target, target_1);
```

ç¤ºä¾‹:

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const arr = ['ğŸ˜„ğŸ˜„', { name: 'dino ğŸ¦–' }];
  const arr_1 = ['ğŸ˜„ğŸ˜„', { name: 'dino ğŸ¦–' }];

  const obj = { name: 'dino', havebeen: [{ city: 'æ­¦æ±‰' }], date: new Date() };
  const obj_1 = { name: 'dino', date: new Date(), havebeen: [{ city: 'æ­å·' }] };

  const [value, setValue] = useState();

  return (
    <ResultButton
      results={value}
      buttonGroup={[
        { text: 'æ˜¾ç¤ºç»“æœ(æ•°ç»„çš„æ·±åº¦æ¯”è¾ƒ)', onClick: () => setValue('' + _isEqual(arr, arr_1)) },
        { text: 'æ˜¾ç¤ºç»“æœ(å¯¹è±¡çš„æ·±åº¦æ¯”è¾ƒ)', onClick: () => setValue('' + _isEqual(obj, obj_1)) },
      ]}
      openJsonView={false}
    />
  );
}
```

</BrowserWindow>

## æ’åº

### æ‰“ä¹±ä¸€ä¸ªæ•°ç»„çš„é¡ºåº

```jsx title="ä»£ç å®ç° - å£¹"
// ä½¿ç”¨ Array.sort() æ’åºçš„æ–¹å¼å°†æ•°æ®æ‰“ä¹±;
// ğŸ“¢ è¯¥æ–¹æ³•å¹¶ä¸èƒ½å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„ä¹±åºï¼Œåœ¨ä¸€äº›ç‰¹åˆ«åœºæ™¯ä¸­ä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚æŠ½å¥–ç­‰
export const _shuffle = (arr: Array<string | number>) => {
  return arr.sort(() => Math.random() - 0.5);
  // å‡è®¾è¢«æ¯”è¾ƒçš„å‰åä¸¤ä¸ªå€¼åˆ†åˆ«ä¸º a å’Œ bï¼Œä¼šæœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µ;
  // è‹¥ è¿”å›å€¼ > 0ï¼Œa ä¼šæ’åˆ° b çš„åé¢
  // è‹¥ è¿”å›å€¼ = 0ï¼Œa å’Œ b çš„ä½ç½®ä¸å˜
  // è‹¥ è¿”å›å€¼ < 0ï¼Œa ä¼šæ’åˆ° b çš„å‰é¢
};
```

```jsx title="ä»£ç å®ç° - è´° ğŸ¸"
// ä½¿ç”¨ Fisherâ€“Yates shuffle æ´—ç‰Œç®—æ³• å°†æ•°æ®æ‰“ä¹±ï¼Œæ•ˆæœæ›´æ˜æ˜¾;
export const _shuffle = (arr: Array<string | number>) => {
  const len = arr.length;
  for (let i = 1; i < len; i++) {
    // å®šä¹‰ä¸€ä¸ª éšæœºä½ç½®
    const m = Math.floor(Math.random() * (i + 1)); // Math.floor() è¡¨ç¤ºæµ®ç‚¹æ•°å‘ä¸‹å–æ•´; Math.random() å–éšæœºå€¼è¦ä» * 2 å¼€å§‹ï¼Œå› ä¸º * 1 æ—¶ï¼Œéšæœºå€¼åªä¼šä¸º 0;
    // åˆ©ç”¨ es6 çš„è§£æ„äº¤æ¢ æŒ‡å®šä½ç½® ä¸­æ•°ç»„çš„å€¼
    [arr[i], arr[m]] = [arr[m], arr[i]];
  }
  return arr;
};
```

```jsx title="ä»£ç å®ç° - å ğŸ¸"
// ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ lodash çš„ shuffle() å‡½æ•°;
import { shuffle } from 'lodash';

const newArr = shuffle(target);
```

<BrowserWindow>

```jsx live
function ExampleComponent(props) {
  const arr = ['A', 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 'J', 'Q', 'K', 'ğŸ¤¡'];

  const [value, setValue] = useState();

  return <ResultButton results={value} onClick={() => setValue(_shuffle(arr))} />;
}
```

</BrowserWindow>

:::tip å‚è€ƒèµ„æ–™

- ğŸ‘‰ [å¦‚ä½•å°†ä¸€ä¸ª JavaScript æ•°ç»„æ‰“ä¹±é¡ºåºï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/68330851)

:::

### éƒ¨åˆ†æ’åºç®—æ³•

```jsx title="å°è£…çš„å…¬ç”¨æ–¹æ³•ï¼Œä¸‹æ–‡ä¼šç”¨åˆ°"
// äº¤æ¢å…ƒç´  å‡½æ•°
const swap = (arr, indexA: number, indexB: number) =>
  ([arr[indexA], arr[indexB]] = [arr[indexB], arr[indexA]]);
```

#### å†’æ³¡æ’åº

- ä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼ŒæŒ‰ç…§ **ä»å°åˆ°å¤§çš„é¡ºåº** å¯¹å…ƒç´ è¿›è¡Œäº¤æ¢ï¼ˆè‹¥ç¬¦åˆè¯¥è§„åˆ™ï¼Œæ— éœ€äº¤æ¢ï¼‰;

```jsx title="ä»£ç å®ç° - å£¹"
// æ™®é€šçš„å†’æ³¡æ’åºæ–¹æ³•
export const _sortBy = (arr: Array<string | number>) => {
  const len = arr.length;
  for (let i = 0; i < len - 1; i++) {
    for (let j = 0; j < len - 1 - i; j++) {
      if (arr[j] > arr[j + 1]) {
        swap(arr, j, j + 1);
      }
    }
  }
  // æˆ–
  for (let i = arr.length - 1; i > 0; i--) {
    for (let j = 0; j < i; j++) {
      // åŒä¸Š ...
    }
  }
  return arr;
};
```

```jsx title="ä»£ç å®ç° - è´°"
// å®šä¹‰ä¸€ä¸ª æ ‡è®°æ€§ å˜é‡ posï¼Œç”¨äºè®°å½•æ¯æ¬¡å¾ªç¯ä¸­çš„æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®ï¼Œæ€§èƒ½è¦æ¯”æ™®é€šçš„å†’æ³¡æ’åºæ–¹æ³•è¦å¥½
export const _sortBy = (arr: Array<string | number>, compareFunc) => {
  let i = arr.length - 1;
  while (i > 0) {
    let pos = 0; // æ ‡è®°æ€§å˜é‡

    for (let j = 0; j < i; j++) {
      if (arr[j] > arr[j + 1]) {
        pos = j;
        swap(arr, j, j + 1);
      }
    }
    i = pos;
  }
  return arr;
};
```

:::caution å¦‚ä½•åˆ©ç”¨å†’æ³¡æ’åºå®ç° å‡åºå’Œé™åº?

åœ¨å†’æ³¡æ’åºçš„æ–¹æ³•ä¸­ï¼Œä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå‚æ•°ä¸ºå‡½æ•°ï¼‰ï¼Œä½œä¸ºæ§åˆ¶å‡åºå’Œé™åºçš„æ¡ä»¶ï¼Œç±»ä¼¼ `Array.sort()` å‡½æ•°ä¸­çš„å‚æ•°;

```jsx title="ä»£ç å®ç°"
export const _sortBy = (arr: Array<string | number>, compareFunc) => {
  for (let i = arr.length - 1; i > 0; i--) {
    for (let j = 0; j < i; j++) {
      if (compareFunc(arr[j], arr[j + 1]) > 0) {
        swap(arr, j, j + 1);
      }
    }
  }
  return arr;
};

// è°ƒç”¨
_sortBy(arr, (a, b) => a - b); // ä»å°åˆ°å¤§ æ’åº
_sortBy(arr, (a, b) => b - a); // ä»å¤§åˆ°å° æ’åº
```

:::

#### é€‰æ‹©æ’åº

- é¦–å…ˆåœ¨æœªæ’åºçš„åºåˆ—ä¸­æ‰¾åˆ°ä¸€ä¸ª **æœ€å°ï¼ˆå¤§ï¼‰å€¼**ï¼Œå°†å…¶æ”¾åœ¨åºåˆ—çš„ **èµ·å§‹ä½ç½®**ï¼Œç„¶åå†ä»å‰©ä½™æœªæ’åºçš„åºåˆ—ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å€¼ï¼Œæ”¾åˆ°å·²æ’åºåºåˆ—çš„åé¢ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¾¾åˆ°æ’åºçš„æ•ˆæœ;
- è¯¥æ’åºæ–¹æ³•æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ï¼Œå‡å°‘äº†å†…å­˜çš„å ç”¨ç©ºé—´;

```jsx title="ä»£ç å®ç°"
export const _sortBy = (arr: Array<string | number>) => {
  const len = arr.length;
  let minIndex; // å®šä¹‰ä¸€ä¸ªæœ€å°å€¼

  for (let i = 0; i < len - 1; i++) {
    minIndex = i;

    for (let j = i + 1; j < len; j++) {
      if (arr[j] < arr[minIndex]) {
        // ä»å°åˆ°å¤§ æ’åºï¼›å¦‚æœè¦å®ç° ä»å¤§åˆ°å° æ’åºï¼Œæ”¹ä¸º arr[j] > arr[minIndex] å³å¯
        minIndex = j;
      }
    }
    if (i !== minIndex) {
      swap(arr, i, minIndex);
    }
  }
  return arr;
};
```

#### æ’å…¥æ’åº

- åœ¨æœ‰åºåºåˆ—ä¸­ï¼Œå¯¹äºå‰©ä½™æœªæ’åºçš„æ•°æ®ï¼Œå¯åœ¨å·²æ’åºåºåˆ—ä¸­ **ä»å‰å‘å** æ‰«æï¼ˆé€šå¸¸åºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥è¢«è®¤ä¸ºå·²æ’åºï¼‰ï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®æ’å…¥;
- è¯¥æ’åºæ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å‡å°‘å¯¹æ•°æ®å¤„ç†çš„å¼€é”€;

```jsx title="ä»£ç å®ç°"
export const _sortBy = (arr: Array<string | number>) => {
  const len = arr.length;

  for (let i = 1; i < len; i++) {
    const current = arr[i]; // è®°å½•å½“å‰ä½ç½®çš„å€¼
    let preIndex = i - 1; // å®šä¹‰ä¸Šä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡

    while (preIndex >= 0 && arr[preIndex] > current) {
      arr[preIndex + 1] = arr[preIndex];
      preIndex -= 1;
      // æˆ–
      // preIndex--;
    }
    arr[preIndex + 1] = current;
  }
  return arr;
};
```

:::tip æ›´å¤šæ’åºç®—æ³•å¯æŸ¥çœ‹ä»¥ä¸‹ å‚è€ƒèµ„æ–™...

- ğŸ‘‰ [ä¼˜é›…çš„ JavaScript æ’åºç®—æ³• - æ˜é‡‘](https://juejin.cn/post/6844903582328717325)
- ğŸ‘‰ [åå¤§ç»å…¸æ’åºç®—æ³•(javascript å®ç°) - Wenzi ä¸ªäººåšå®¢](https://www.xiabingbao.com/post/sort/javascript-10-sort.html)

:::
