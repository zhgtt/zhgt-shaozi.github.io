---
title: JS å¸¸ç”¨å·¥å…·å‡½æ•°
id: js-tools
sidebar_position: 2
toc_max_heading_level: 4
---

> æœ¬ç« èŠ‚è®°å½• JavaScript å¯¹ **å­—ç¬¦ä¸² / æµè§ˆå™¨ / æ­£åˆ™æ ¡éªŒ** è¿›è¡Œå¤„ç†çš„ä¸€äº›å·¥å…·å‡½æ•°;

<img src={require('@site/static/image/Bg/wp11164545-spy-x-family-anya-wallpapers.jpeg').default} />

## å­—ç¬¦ä¸² & æ•°å€¼

### å®ç°é‡‘é’±æ ¼å¼åŒ–

å°†ä¸€æ®µæ•°å€¼æ¯éš” **3 ä½** åŠ ä¸€ä¸ªé€—å·;

```jsx title="ä»£ç å®ç° - å£¹" showLineNumbers
// åˆ©ç”¨æ­£åˆ™æ¥å¤„ç†
export const _formatCash = (value: string) => {
  if (!value) return null;
  return value.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
};
```

```jsx title="ä»£ç å®ç° - è´°" showLineNumbers
// å°†å­—ç¬¦ä¸²è½¬æˆæ•°ç»„å†å¤„ç†
export const _formatCash = (value: string) => {
  if (!value) return null;
  return value
    .split('')
    .reverse()
    .reduce((prev, next, index) => {
      console.log('prev: ', prev); // è¡¨ç¤ºæ¯æ¬¡å¾ªç¯ return å‡ºå»çš„å€¼
      return (index % 3 ? next : `${next},`) + prev;
    });
};
```

```jsx live
function ExampleComponent(props) {
  const str = '1234567890';

  const [value, setValue] = useState('');

  return (
    <ResultButton results={value} onClick={() => setValue(_formatCash(str))} openJsonView={false} />
  );
}
```

### å­—èŠ‚ & å•ä½ ä¹‹é—´çš„è½¬æ¢

#### å­—èŠ‚ â†’ å•ä½

è·å–ä¸€æ®µæ–‡æœ¬å†…å®¹çš„å­—èŠ‚(`bytes`)å¤§å°ï¼Œå¹¶å°†å…¶è½¬æ¢æˆ `KB`ã€`MB` ç­‰å•ä½å¤§å°;

```jsx title="ä»£ç å®ç°" showLineNumbers
export const _bytesToSize = (value: string) => {
  if (!value) return '0.0 B';

  const num = 1024;
  // ä½¿ç”¨ Blob æ„é€ å‡½æ•° è·å–æ–‡æœ¬å†…å®¹çš„ å­—èŠ‚å¤§å°
  const bytes = new Blob([value]).size;

  if (bytes < num) return `${bytes} B`;
  if (bytes < Math.pow(num, 2)) return `${(bytes / num).toFixed(2)} KB`; // Math.pow() æ–¹æ³•è¡¨ç¤ºä¸€ä¸ªæ•°å€¼çš„ n æ¬¡æ–¹
  if (bytes < Math.pow(num, 3)) return `${(bytes / Math.pow(num, 2)).toFixed(2)} MB`; // ä¿ç•™ä¸¤ä½å°æ•°
  if (bytes < Math.pow(num, 4)) return `${(bytes / Math.pow(num, 3)).toFixed(2)} GB`;
};

// è°ƒç”¨
_bytesToSize('å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ï¼›åœ°åŠ¿å¤ï¼Œå›å­ä»¥åšå¾·è½½ç‰©ã€‚');
```

#### å•ä½ â†’ å­—èŠ‚

å°†å¸¦æœ‰å•ä½(`MB`ã€`KB` ç­‰)çš„å­—ç¬¦ä¸²ï¼Œè½¬æ¢æˆå¯¹åº”çš„å­—èŠ‚å¤§å°;

```jsx title="ä»£ç å®ç°" showLineNumbers
export const _sizeToBytes = (size: string) => {
  const num = 1024;

  if (!size) return 0;
  if (size.endsWith('KB')) return +size.replace('KB', '') * Math.pow(num, 1); // String.endsWith() æ–¹æ³•ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­—ç¬¦ç»“å°¾ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
  if (size.endsWith('MB')) return +size.replace('MB', '') * Math.pow(num, 2);
  if (size.endsWith('GB')) return +size.replace('GB', '') * Math.pow(num, 3);
  return +size.replace('B', '');
};
```

:::tip æ‹“å±•é“¾æ¥

- ğŸ‘‰ [åœ¨çº¿å­—èŠ‚è½¬æ¢å·¥å…·](https://tooltt.com/byte-convert/)

:::

## DOM äº¤äº’

### é˜²æŠ–

### èŠ‚æµ

## æµè§ˆå™¨

### è·å–åœ°å€æ ä¸­çš„å‚æ•°
